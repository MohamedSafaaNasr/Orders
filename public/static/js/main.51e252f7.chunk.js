(this.webpackJsonpsrc=this.webpackJsonpsrc||[]).push([[0],{116:function(e,t,a){e.exports=a.p+"static/media/EButler_White_logo.a330d34e.png"},207:function(e,t,a){e.exports=a(364)},212:function(e,t,a){},364:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),s=a.n(i),o=(a(212),a(42)),l=a(43),c=a(88),u=a(44),m=a(45),d=a(204),p=a(37),h=a(57),f=a(97),g=a(115),E=a(367),y=a(106),b=a(368),_=a(369),v=a(47),O=a(373),k=a(375),C=a(64),I=a(374),w=a(370),P=a(116),x=a.n(P),N=(a(78),a(174)),S=a.n(N),D=a(378),T=a(379),j=a(380),q=a(381),U=a(10),F=a(16),R=a.n(F),M=a(39),B=a(175),V=a.n(B).a.create({baseURL:"http://localhost:3000/"});V.interceptors.request.use((function(e){return e.headers.Accept="application/json",null!=localStorage.getItem("user-auth")&&(e.headers.Authorization="auth ".concat(localStorage.getItem("user-auth"))),console.log(e),e}));var Y=V,K=function(){var e=Object(M.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Y.get("/orders?page=".concat(t.current,"&size=").concat(t.pageSize));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(M.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("/orders/entry/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(M.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.post("/orders/search",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L={getAllOrders:K,getOrderById:W,createOrder:function(){var e=Object(M.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.OID=Math.random().toString(36).slice(-8),t.order_status="Preparing Order",e.next=4,Y.post("/orders/",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateOrder:function(){var e=Object(M.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.put("/orders/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleteOrder:function(){var e=Object(M.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.delete("/orders/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getOrderByFilter:A},z=a(372),H=a(371),Q=a(376),J=a(377),G=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleCancel=function(e){n.props.hideModal(!1)},n.onSelectChange=function(e){var t=n.state.role;t=e,n.setState({role:t})},n.onChange=function(e){var t=n.state,a=t.first_name,r=t.last_name,i=t.phone,s=t.country,o=t.item_price,l=t.quantity,c=t.total_price,u=t.pickup_time,m=t.delivery_time;switch(e.target.name){case"first_name":a=e.target.value;break;case"last_name":r=e.target.value;break;case"country":s=e.target.value;break;case"phone":i=e.target.value;break;case"item_price":o=e.target.value;break;case"quantity":l=e.target.value;break;case"total_price":c=e.target.value;break;case"pickup_time":u=e.target.value;break;case"delivery_time":m=e.target.value;break;default:return}n.setState({first_name:a,last_name:r,country:s,phone:i,item_price:o,total_price:c,quantity:l,pickup_time:u,delivery_time:m})},n.onFinish=function(){L.createOrder({first_name:n.state.first_name,last_name:n.state.last_name,phone:n.state.phone,country:n.state.country,item_price:n.state.item_price,quantity:n.state.quantity,total_price:n.state.total_price,pickup_time:n.state.pickup_time,delivery_time:n.state.delivery_time}).then((function(e){U.b.success("Order Created Successfully",{position:U.b.POSITION.TOP_CENTER}),n.props.hideModal(!1)})).catch((function(e){console.log(e),U.b.error(e.message,{position:U.b.POSITION.TOP_CENTER})}))},n.state={first_name:null,last_name:null,phone:null,country:null,item_price:null,quantity:null,total_price:null,pickup_time:null,delivery_time:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement(z.a,{title:"Create Order",visible:this.props.visible,onOk:this.onFinish,onCancel:this.handleCancel},r.a.createElement(H.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0}},r.a.createElement(H.a.Item,{name:"first_name",rules:[{required:!0,message:"Please input your First Name!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"first_name",onChange:this.onChange.bind(this),placeholder:"First Name"})),r.a.createElement(H.a.Item,{name:"last_name",rules:[{required:!0,message:"Please input your Last Name!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"last_name",onChange:this.onChange.bind(this),placeholder:"Last Name"})),r.a.createElement(H.a.Item,null,r.a.createElement(O.a,{prefix:r.a.createElement(J.a,{className:"site-form-item-icon"}),name:"phone",onChange:this.onChange.bind(this),placeholder:"Phone"})),r.a.createElement(H.a.Item,null,r.a.createElement(O.a,{prefix:r.a.createElement(J.a,{className:"site-form-item-icon"}),name:"country",onChange:this.onChange.bind(this),placeholder:"Country"})),r.a.createElement(H.a.Item,{name:"item_price",rules:[{required:!0,message:"Please input your Item Price!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"item_price",onChange:this.onChange.bind(this),placeholder:"item_price"})),r.a.createElement(H.a.Item,{name:"quantity",rules:[{required:!0,message:"Please input your Quantity"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"quantity",onChange:this.onChange.bind(this),placeholder:"quantity"})),r.a.createElement(H.a.Item,{name:"total_price",rules:[{required:!0,message:"Please input your Total Price!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"total_price",onChange:this.onChange.bind(this),placeholder:"total_price"})),r.a.createElement(H.a.Item,{name:"pickup_time",rules:[{required:!0,message:"Please input your Pickup Time!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"pickup_time",onChange:this.onChange.bind(this),placeholder:"pickup_time"})),r.a.createElement(H.a.Item,{name:"delivery_time",rules:[{required:!0,message:"Please input your Deliveru Time!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"delivery_time",onChange:this.onChange.bind(this),placeholder:"delivery_time"}))))}}]),a}(n.Component),$=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleCancel=function(e){n.props.hideModal(!1)},n.onSelectChange=function(e){var t=n.state.role;t=e,n.setState({role:t})},n.onChange=function(e){var t=n.state.orderData;switch(e.target.name){case"first_name":t.first_name=e.target.value;break;case"last_name":t.last_name=e.target.value;break;case"country":t.country=e.target.value;break;case"phone":t.phone=e.target.value;break;case"item_price":t.item_price=e.target.value;break;case"quantity":t.quantity=e.target.value;break;case"total_price":t.total_price=e.target.value;break;case"pickup_time":t.pickup_time=e.target.value;break;case"delivery_time":t.delivery_time=e.target.value;break;default:return}n.setState({orderData:t})},n.onFinish=function(){console.log(n.state.orderData),L.updateOrder(n.state.orderData.id,{first_name:n.state.orderData.first_name,last_name:n.state.orderData.last_name,phone:n.state.orderData.phone,country:n.state.orderData.country,item_price:n.state.orderData.item_price,quantity:n.state.orderData.quantity,total_price:n.state.orderData.total_price,pickup_time:n.state.orderData.pickup_time,delivery_time:n.state.orderData.delivery_time}).then((function(e){U.b.success("Order Updated Successfully",{position:U.b.POSITION.TOP_CENTER}),n.setState({orderData:null}),n.props.hideModal(!1)})).catch((function(e){console.log(e),U.b.error(e.message,{position:U.b.POSITION.TOP_CENTER})}))},n.state={orderData:n.props.orderData},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement(z.a,{title:"Update Order",visible:this.props.visible,onOk:this.onFinish,onCancel:this.handleCancel},r.a.createElement(H.a,{name:"normal_login",className:"login-form"},r.a.createElement(H.a.Item,{name:"first_name",rules:[{required:!0,message:"Please input your First Name!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"first_name",onChange:this.onChange.bind(this),placeholder:"First Name",defaultValue:null!==this.state.orderData?this.state.orderData.first_name:null})),r.a.createElement(H.a.Item,{name:"last_name",rules:[{required:!0,message:"Please input your Last Name!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"last_name",onChange:this.onChange.bind(this),placeholder:"Last Name",defaultValue:null!==this.state.orderData?this.state.orderData.last_name:null})),r.a.createElement(H.a.Item,null,r.a.createElement(O.a,{prefix:r.a.createElement(J.a,{className:"site-form-item-icon"}),name:"phone",onChange:this.onChange.bind(this),placeholder:"Phone",defaultValue:null!==this.state.orderData?this.state.orderData.phone:null})),r.a.createElement(H.a.Item,null,r.a.createElement(O.a,{prefix:r.a.createElement(J.a,{className:"site-form-item-icon"}),name:"country",onChange:this.onChange.bind(this),placeholder:"Country",defaultValue:null!==this.state.orderData?this.state.orderData.country:null})),r.a.createElement(H.a.Item,{name:"item_price",rules:[{required:!0,message:"Please input your Item Price!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"item_price",onChange:this.onChange.bind(this),placeholder:"item_price",defaultValue:null!==this.state.orderData?this.state.orderData.item_price:null})),r.a.createElement(H.a.Item,{name:"quantity",rules:[{required:!0,message:"Please input your Quantity"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"quantity",onChange:this.onChange.bind(this),placeholder:"quantity",defaultValue:null!==this.state.orderData?this.state.orderData.quantity:null})),r.a.createElement(H.a.Item,{name:"total_price",rules:[{required:!0,message:"Please input your Total Price!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"total_price",onChange:this.onChange.bind(this),placeholder:"total_price",defaultValue:null!==this.state.orderData?this.state.orderData.total_price:null})),r.a.createElement(H.a.Item,{name:"pickup_time",rules:[{required:!0,message:"Please input your Pickup Time!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"pickup_time",onChange:this.onChange.bind(this),placeholder:"pickup_time",defaultValue:null!==this.state.orderData?this.state.orderData.pickup_time:null})),r.a.createElement(H.a.Item,{name:"delivery_time",rules:[{required:!0,message:"Please input your Deliveru Time!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"delivery_time",onChange:this.onChange.bind(this),placeholder:"delivery_time",defaultValue:null!==this.state.orderData?this.state.orderData.delivery_time:null}))))}}]),a}(n.Component),X=a(108),Z=a.n(X),ee=E.a.Header,te=E.a.Content,ae=E.a.Footer,ne=y.a.Option,re=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).hideModal=function(e){n.setState({show:e});var t=n.state.pagination;n.getOrders({pagination:t})},n.hideUpdateModal=function(e){n.setState({showUpdate:e,selectedOrder:null});var t=n.state.pagination;n.getOrders({pagination:t})},n.onSelectedSearchChange=function(e){n.setState({selectedSearch:e})},n.search=function(e){var t=[],a=n.state.selectedSearch;if(console.log(a),console.log(e),null!==e)L.getOrderByFilter(Object(g.a)({},a,e)).then((function(e){console.log(e.data),e.data.map((function(e){t.push({OID:e.OID,first_name:e.first_name,last_name:e.last_name,phone:e.phone,country:e.country,order_status:e.order_status,item_price:e.item_price,quantity:e.quantity,total_price:e.total_price,pickup_time:Z()(e.pickup_time).format("DD/MM/YYYY hh:mm:ss"),delivery_time:Z()(e.delivery_time).format("DD/MM/YYYY hh:mm:ss"),action:r.a.createElement(b.a,{gutter:24},r.a.createElement(_.a,{span:12},r.a.createElement(v.a,{type:"text",onClick:function(){L.getOrderById(e.id).then((function(t){n.setState({showUpdate:!0,selectedOrder:{id:e.id,OID:t.data.OID,first_name:t.data.first_name,last_name:t.data.last_name,phone:t.data.phone,country:t.data.country,item_price:t.data.item_price,quantity:t.data.quantity,total_price:t.data.total_price,pickup_time:t.data.pickup_time,delivery_time:t.data.delivery_time}})}))}},r.a.createElement(D.a,null))),r.a.createElement(_.a,{span:12},r.a.createElement(v.a,{type:"text",onClick:function(){return n.deleteOrder(e.id)}},r.a.createElement(T.a,null))))}),n.setState({orders:t})}))})).catch((function(e){console.log(e),U.b.error(e.message,{position:U.b.POSITION.TOP_CENTER})}));else{var i=n.state.pagination;n.getOrders({pagination:i})}},n.getOrders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];L.getAllOrders(e.pagination).then((function(a){a.data.orders.map((function(e,a){t.push({OID:e.OID,first_name:e.first_name,last_name:e.last_name,phone:e.phone,country:e.country,order_status:e.order_status,item_price:e.item_price,quantity:e.quantity,total_price:e.total_price,pickup_time:Z()(e.pickup_time).format("DD/MM/YYYY hh:mm:ss"),delivery_time:Z()(e.delivery_time).format("DD/MM/YYYY hh:mm:ss"),action:r.a.createElement(b.a,{gutter:24},r.a.createElement(_.a,{span:12},r.a.createElement(v.a,{type:"text",onClick:function(){L.getOrderById(e.id).then((function(t){n.setState({showUpdate:!0,selectedOrder:{id:e.id,OID:t.data.OID,first_name:t.data.first_name,last_name:t.data.last_name,phone:t.data.phone,country:t.data.country,item_price:t.data.item_price,quantity:t.data.quantity,total_price:t.data.total_price,pickup_time:t.data.pickup_time,delivery_time:t.data.delivery_time}})}))}},r.a.createElement(D.a,null))),r.a.createElement(_.a,{span:12},r.a.createElement(v.a,{type:"text",onClick:function(){return n.deleteOrder(e.id)}},r.a.createElement(T.a,null))))})})),n.setState({orders:t,loading:!1,pagination:Object(f.a)({},e.pagination,{total:a.data.totalItems})})})).catch((function(e){console.log(e),U.b.error(e.message,{position:U.b.POSITION.TOP_CENTER})}))},n.handler=function(){n.setState()},n.getColumnSearchProps=function(e){return{filterDropdown:function(t){var a=t.setSelectedKeys,i=t.selectedKeys,s=t.confirm,o=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(O.a,{ref:function(e){n.searchInput=e},placeholder:"Search ".concat(e),value:i[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return n.handleSearch(i,s,e)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(k.b,null,r.a.createElement(v.a,{type:"primary",onClick:function(){return n.handleSearch(i,s,e)},icon:r.a.createElement(j.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(v.a,{onClick:function(){return n.handleReset(o)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(j.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e]?a[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return n.searchInput.select()}),100)},render:function(t){return n.state.searchedColumn===e?r.a.createElement(S.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[n.state.searchText],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}},n.deleteOrder=function(e){L.deleteOrder(e).then((function(e){console.log(e.data),void 0!==e.data.message?U.b.error(e.data.message,{position:U.b.POSITION.TOP_CENTER}):U.b.success("Order Deleted Successfully",{position:U.b.POSITION.TOP_CENTER});var t=n.state.pagination;n.getOrders({pagination:t})})).catch((function(e){console.log(e),U.b.error(e.message,{position:U.b.POSITION.TOP_CENTER})}))},n.handleSearch=function(e,t,a){t(),n.setState({searchText:e[0],searchedColumn:a})},n.handleReset=function(e){e(),n.setState({searchText:""})},n.handleTableChange=function(e,t,a){n.getOrders(Object(f.a)({sortField:a.field,sortOrder:a.order,pagination:e},t))},n.setFirstNameSort=function(){n.setState({sortedItemPriceInfo:{order:null,columnKey:null},sortedFirstNameInfo:{order:"descend"===n.state.sortedFirstNameInfo.order?"ascend":"descend",columnKey:"first_name"}})},n.setItemPriceSort=function(){n.setState({sortedFirstNameInfo:{order:null,columnKey:null},sortedItemPriceInfo:{order:"descend"===n.state.sortedItemPriceInfo.order?"ascend":"descend",columnKey:"item_price"}})},n.state={selectedOrder:null,show:!1,showUpdate:!1,selectedSearch:"OID",role:"consumer",pagination:{current:1,pageSize:100},sortedFirstNameInfo:{order:"descend",columnKey:"first_name"},sortedItemPriceInfo:{order:"descend",columnKey:"item_price"},loading:!0},n.handleEvent=n.handleEvent.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({role:localStorage.getItem("role")});var e=this.state.pagination;this.getOrders({pagination:e})}},{key:"componentDidUpdate",value:function(e,t,a){t.name!==this.state.name&&this.handler()}},{key:"componentWillUnmount",value:function(){}},{key:"handleEvent",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.orders,n=t.pagination,i=t.loading,s=this.state,o=s.sortedFirstNameInfo,l=s.sortedItemPriceInfo,c=[Object(f.a)({title:"OID",dataIndex:"OID",key:"OID"},this.getColumnSearchProps("OID")),Object(f.a)({title:"First Name",dataIndex:"first_name",key:"first_name",sorter:function(e,t){return e.first_name>t.first_name},sortOrder:"first_name"===o.columnKey&&o.order},this.getColumnSearchProps("first_name")),{title:"Last Name",dataIndex:"last_name",key:"last_name"},{title:"Phone",dataIndex:"phone",key:"phone"},{title:"Country",dataIndex:"country",key:"country"},{title:"Order Status",dataIndex:"order_status",key:"order_status"},{title:"Item Price",dataIndex:"item_price",key:"item_price",sorter:function(e,t){return e.item_price-t.item_price},sortOrder:"item_price"===l.columnKey&&l.order},{title:"Quantity",dataIndex:"quantity",key:"quantity"},Object(f.a)({title:"Total Price",dataIndex:"total_price",key:"total_price"},this.getColumnSearchProps("total_price")),{title:"Pickup Time",dataIndex:"pickup_time",key:"pickup_time",width:"20%"},{title:"Delivery Time",dataIndex:"delivery_time",key:"delivery_time",width:"20%"},{title:"Action",dataIndex:"consumer"!==this.state.role?"action":null,key:"consumer"!==this.state.role?"action":null,width:"15%"}];return r.a.createElement(E.a,{className:"layout"},r.a.createElement(ee,null,r.a.createElement("div",{className:"logo"}),r.a.createElement(C.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"]},r.a.createElement("img",{src:x.a,alt:"logo",width:"5%",className:"logo p-0 m-0"}),r.a.createElement(C.a.Item,{key:"1",style:{float:"right"},onClick:function(){localStorage.clear(),e.props.history.push("/login")}},"Logout"))),r.a.createElement(te,{style:{padding:"0 20px 0 20px"}},r.a.createElement(I.a,{style:{margin:"16px 0"}},r.a.createElement(I.a.Item,null,r.a.createElement("h1",null,"Orders"," ","consumer"!==this.state.role&&r.a.createElement(v.a,{type:"text",onClick:function(){return e.setState({show:!0})}},r.a.createElement(q.a,null))))),r.a.createElement("div",{className:"site-layout-content",style:{minHeight:"500px"}},r.a.createElement(k.b,{style:{marginBottom:16}},r.a.createElement(v.a,{onClick:this.setFirstNameSort},"Sort By First Name"),r.a.createElement(v.a,{onClick:this.setItemPriceSort},"Sort By Item Price"),r.a.createElement(v.a,{onClick:function(){return e.getOrders({pagination:n})}},"Clear"),r.a.createElement(O.a.Group,{compact:!0},r.a.createElement(y.a,{defaultValue:"OID",onChange:this.onSelectedSearchChange.bind(this)},r.a.createElement(ne,{value:"OID"},"OID"),r.a.createElement(ne,{value:"first_name"},"First Name"),r.a.createElement(ne,{value:"item_price"},"Item Price")),r.a.createElement(O.a.Search,{style:{width:"60%"},placeholder:"Search",onSearch:function(t){return e.search(t)}}))),r.a.createElement(b.a,null,r.a.createElement(_.a,null,r.a.createElement(w.a,{columns:c,rowKey:function(e){return e.id},dataSource:null!==a?a:null,pagination:n,loading:i,onChange:this.handleTableChange})))),r.a.createElement(G,{visible:this.state.show,hideModal:this.hideModal}),null!==this.state.selectedOrder&&r.a.createElement($,{orderData:this.state.selectedOrder,visible:this.state.showUpdate,hideModal:this.hideUpdateModal})),r.a.createElement(ae,{style:{textAlign:"center"}},"Assessment \xa92020 Created for E-Butler"))}}]),a}(n.Component),ie=a(107),se=a(382),oe={getCurrentUserData:function(){var e=Object(M.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("/users/get_user");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllUsers:function(){var e=Object(M.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("/users/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),registerUser:function(){var e=Object(M.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.post("/users/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserByToken:function(){var e=Object(M.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("/users/get_user");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),authenticate:function(){var e=Object(M.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Y.post("/users/authenticate",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateUser:function(){var e=Object(M.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.put("/users/"+t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleteUser:function(){var e=Object(M.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.delete("/users/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),forgetPassword:function(){var e=Object(M.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Y.post("/users/forget_password",{email:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),resetPassword:function(){var e=Object(M.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.post("/users/reset_password",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),checkResetToken:function(){var e=Object(M.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("/users/reset/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),verifyAccount:function(){var e=Object(M.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("/users/verify?v=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},le=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=n.state,a=t.username,r=t.password;switch(e.target.name){case"username":a=e.target.value;break;case"password":r=e.target.value;break;default:return}n.setState({username:a,password:r})},n.onFinish=function(){oe.authenticate({username:n.state.username,password:n.state.password}).then((function(e){console.log(e.data),0!==e.data.verified?(localStorage.setItem("user-auth",e.data.token),localStorage.setItem("role",e.data.role),n.props.history.push("/")):U.b.warning("This Email account not verified, Please check you Email",{position:U.b.POSITION.TOP_CENTER})})).catch((function(e){console.log(e),U.b.error("Username or password incorrect",{position:U.b.POSITION.TOP_CENTER})}))},n.state={username:null,password:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t,a){t.name!==this.state.name&&this.handler()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement(b.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:"100vh"}},r.a.createElement(_.a,{span:4},r.a.createElement(H.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0}},r.a.createElement(H.a.Item,{align:"center"},r.a.createElement("img",{src:x.a,className:"invertBackground",alt:"logo",width:"100%"})),r.a.createElement(H.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"username",onChange:this.onChange.bind(this),placeholder:"Username"})),r.a.createElement(H.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(se.a,{className:"site-form-item-icon"}),onChange:this.onChange.bind(this),placeholder:"Password",type:"password",name:"password"})),r.a.createElement(H.a.Item,null,r.a.createElement(H.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0},r.a.createElement(ie.a,null,"Remember me")),r.a.createElement(h.b,{to:"/forget_password",className:"login-form-forgot"},"Forgot password")),r.a.createElement(H.a.Item,null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.onFinish.bind(this)},"Log in")," ","Or ",r.a.createElement(h.b,{to:"/register"},"Register")))))}}]),a}(n.Component),ce=a(383),ue=a(384),me=y.a.Option,de=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onSelectChange=function(e){var t=n.state.role;t=e,n.setState({role:t})},n.onChange=function(e){var t=n.state,a=t.name,r=t.username,i=t.password,s=t.email,o=t.phone;switch(e.target.name){case"username":r=e.target.value;break;case"password":i=e.target.value;break;case"name":a=e.target.value;break;case"email":s=e.target.value;break;case"phone":o=e.target.value;break;default:return}n.setState({name:a,username:r,password:i,email:s,phone:o})},n.onFinish=function(){oe.registerUser({name:n.state.name,username:n.state.username,password:n.state.password,phone:n.state.phone,email:n.state.email,role:n.state.role}).then((function(e){U.b.success("Account Created Successfully, Please check your email for verification",{position:U.b.POSITION.TOP_CENTER}),n.props.history.push("/login")})).catch((function(e){console.log(e),U.b.error(e.message,{position:U.b.POSITION.TOP_CENTER})}))},n.state={name:null,username:null,password:null,email:null,phone:null,role:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement(b.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:"100vh"}},r.a.createElement(_.a,{span:4},r.a.createElement(H.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0}},r.a.createElement(H.a.Item,null,r.a.createElement(h.b,{to:"/login"},r.a.createElement(ce.a,null)," "," "," Back")),r.a.createElement(H.a.Item,null,r.a.createElement(b.a,{justify:"center",align:"middle"},r.a.createElement(_.a,null,r.a.createElement("h1",null,"Register")))),r.a.createElement(H.a.Item,{name:"name",rules:[{required:!0,message:"Please input your name!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"name",onChange:this.onChange.bind(this),placeholder:"Name"})),r.a.createElement(H.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"username",onChange:this.onChange.bind(this),placeholder:"Username"})),r.a.createElement(H.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(se.a,{className:"site-form-item-icon"}),onChange:this.onChange.bind(this),type:"password",name:"password",placeholder:"Password"})),r.a.createElement(H.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(ue.a,{className:"site-form-item-icon"}),name:"email",onChange:this.onChange.bind(this),type:"email",placeholder:"Email"})),r.a.createElement(H.a.Item,{name:"phone",rules:[{required:!0,message:"Please input your phone!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(J.a,{className:"site-form-item-icon"}),name:"phone",onChange:this.onChange.bind(this),placeholder:"Phone"})),r.a.createElement(H.a.Item,{name:"role",rules:[{required:!0,message:"Please input your role!"}]},r.a.createElement(y.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),name:"role",onChange:this.onSelectChange.bind(this),placeholder:"Role"},r.a.createElement(me,{value:"consumer"},"Consumer"),r.a.createElement(me,{value:"manager"},"Manager"))),r.a.createElement(H.a.Item,null,r.a.createElement(b.a,{justify:"center",align:"middle"},r.a.createElement(_.a,null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.onFinish.bind(this)},"Register")))))))}}]),a}(n.Component),pe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=n.state,a=t.password,r=t.confirmPassword;switch(e.target.name){case"password":a=e.target.value;break;case"confirmPassword":r=e.target.value;break;default:return}n.setState({password:a,confirmPassword:r})},n.onFinish=function(){oe.resetPassword({password:n.state.resetPassword,confirmation_password:n.state.confirmPassword}).then((function(e){U.b.success("Reset Password Email was sent.",{position:U.b.POSITION.TOP_CENTER}),n.props.history.push("/login")})).catch((function(e){console.log(e),U.b.error("Username or password incorrect",{position:U.b.POSITION.TOP_CENTER})}))},n.state={password:null,confirmPassword:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t,a){t.name!==this.state.name&&this.handler()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement(b.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:"100vh"}},r.a.createElement(_.a,{span:4},r.a.createElement(H.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0}},r.a.createElement(H.a.Item,null,r.a.createElement(h.b,{to:"/login"},r.a.createElement(ce.a,null)," "," "," Back")),r.a.createElement(H.a.Item,{align:"center"},r.a.createElement(b.a,{justify:"center",align:"middle"},r.a.createElement(_.a,null,r.a.createElement("h1",null,"Reset Password")))),r.a.createElement(H.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),onChange:this.onChange.bind(this),placeholder:"Password",name:"Password"})),r.a.createElement(H.a.Item,{name:"confirmPassword",rules:[{required:!0,message:"Please input your Confirm Password!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),onChange:this.onChange.bind(this),placeholder:"Confirm Password",name:"confirmPassword"})),r.a.createElement(H.a.Item,null,r.a.createElement(b.a,{justify:"center",align:"middle"},r.a.createElement(_.a,null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.onFinish.bind(this)},"Send Reset Email")))))))}}]),a}(n.Component),he=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=n.state.email;t=e.target.value,n.setState({email:t})},n.onFinish=function(){oe.forgetPassword(n.state.email).then((function(e){U.b.success("Reset Password Email was sent.",{position:U.b.POSITION.TOP_CENTER}),n.props.history.push("/login")})).catch((function(e){console.log(e),U.b.error("Username or password incorrect",{position:U.b.POSITION.TOP_CENTER})}))},n.state={email:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t,a){t.name!==this.state.name&&this.handler()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement(b.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:"100vh"}},r.a.createElement(_.a,{span:4},r.a.createElement(H.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0}},r.a.createElement(H.a.Item,null,r.a.createElement(h.b,{to:"/login"},r.a.createElement(ce.a,null)," "," "," Back")),r.a.createElement(H.a.Item,{align:"center"},r.a.createElement(b.a,{justify:"center",align:"middle"},r.a.createElement(_.a,null,r.a.createElement("h1",null,"Forget Password")))),r.a.createElement(H.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Email!"}]},r.a.createElement(O.a,{prefix:r.a.createElement(Q.a,{className:"site-form-item-icon"}),onChange:this.onChange.bind(this),placeholder:"Email"})),r.a.createElement(H.a.Item,null,r.a.createElement(b.a,{justify:"center",align:"middle"},r.a.createElement(_.a,null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.onFinish.bind(this)},"Send Reset Email")))))))}}]),a}(n.Component),fe=function(e){var t=e.component,a=Object(d.a)(e,["component"]);return r.a.createElement(p.b,Object.assign({},a,{render:function(e){return null!=localStorage.getItem("user-auth")?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))},ge=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handler=function(){n.setState()},n.state={},n.handleEvent=n.handleEvent.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t,a){t.name!==this.state.name&&this.handler()}},{key:"componentWillUnmount",value:function(){}},{key:"handleEvent",value:function(){}},{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(p.d,null,r.a.createElement(fe,{exact:!0,path:"/",component:re}),r.a.createElement(p.b,{exact:!0,path:"/login",component:le}),r.a.createElement(p.b,{exact:!0,path:"/register",component:de}),r.a.createElement(p.b,{exact:!0,path:"/forget_password",component:he}),r.a.createElement(p.b,{exact:!0,path:"/reset_password",component:pe})))}}]),a}(n.Component);a(362);var Ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,null),"     ",r.a.createElement(U.a,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(363);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,t,a){}},[[207,1,2]]]);
//# sourceMappingURL=main.51e252f7.chunk.js.map